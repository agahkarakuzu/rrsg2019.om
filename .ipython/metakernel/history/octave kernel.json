["% Load octave packages \npkg load image \npkg load optim", "% Mex c files for gridding by Brian Hargreaves and Philip Beatty \n% http://mrsrl.stanford.edu/~brian/gridding/\n\nmex gridlut_mex.c\nmex calcdcflut_mex.c", "load('/tmp/rrsg_challenge/brain_radial_96proj_12ch.mat');\nwhos % Show variables in the current scope", "rawdata = permute(rawdata,[4,3,2,1]); \ntrajectory = permute(trajectory,[3,2,1]);\n[~,nFE,nSpokes,nCh] = size(rawdata);\nwhos", "for ii=1:12\ncc = squeeze((rawdata(1,:,:,ii)));\n% Brighten convention is not 1/1 with matlab.  \nsubplot(2,6,ii);\nimshow(log(1+abs(cc)),[-0 0.0001]); brighten(0.4); title(['Ch ' num2str(ii)]);\nend", "ksp_rss = bart('rss 8', rawdata);\n%figure();\nlg_ksprss = log(ksp_rss);\nlg_ksprss = abs(squeeze(lg_ksprss)); \ndsp = reshape(lg_ksprss,[1 nFE*nSpokes]);", "% Adjoint NUFFT to interpolate data onto cartesian grid. \n% -d denotes dimension (x:y:z, which is 300X300X1)\n% -a denotes adjoint transform\n% -i denotes inverse transform\n\nadj = bart('nufft -d300:300:1 -i',trajectory,rawdata);\n\n% Transform regridded image back to k-space \n% 7 is for bitmasking \n\nadjk = bart('fft -u 7', adj);\n\n% Estimate coil sensitivities using the k-space center (radius of 20). \n\ncalib = bart('caldir 20',adjk);", "% Please see HelperFunctions folder for subSample.m \n\n[outRD_x2, outTR_x2] = subSample(rawdata,trajectory,2,nSpokes);\n\n[outRD_x3, outTR_x3] = subSample(rawdata,trajectory,3,nSpokes);\n\n[outRD_x4, outTR_x4] = subSample(rawdata,trajectory,4,nSpokes);"]